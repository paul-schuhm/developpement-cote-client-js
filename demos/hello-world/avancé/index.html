<!DOCTYPE html>
<html>

    <head>
        <meta lang="fr">
        <meta charset="utf-8">
        <title>Guess the number</title>
        <meta name="description" content="Un jeu où il faut deviner un nombre">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <style>
            /* Le style de la page */
            .error {
                color: red;
            }

            .success {
                color: green;
            }
        </style>
    </head>

    <body>

        <header>
            <h1>Guess my number</h1>
        </header>

        <main>

            <section>
                <h2>Jouer une partie</h2>
                <p>Un nombre entre 0 et 100 (inclus) a été choisi au hasard. Sauras-tu le retrouver ?</p>
                <label for="guess">Votre tentative</label>
                <input type="number" name="guess" id="guess" value="0">
                <input type="button" value="Soumettre" onclick="checkPlayerGuess()">
                <p id="message"></p>

                <section>
                    <button title="Tirer un nouveau nombre aléatoire et recommencer une partie"
                        onclick="startNewGame()">Rejouer une
                        partie</button>
                </section>
            </section>

        </main>

        <footer>
            <small>
                Ceci est une page web à but pédagogique.
            </small>
        </footer>

        <script>
            // Le code de la page

            //Le nombre à deviner (variable globale)
            //On génère le nombre au chargement de la page
            var randomNumberToGuess = generateRandomNumber();
            var numberOfTries = 0;

            function checkPlayerGuess() {

                numberOfTries++;

                var message;

                var guess = document.getElementById("guess").value;

                if (guess < randomNumberToGuess)
                    message = "Plus grand !"
                else if (guess > randomNumberToGuess)
                    message = "Plus petit !"
                else
                    message = "Bravo ! C'était bien " + randomNumberToGuess + " qu'il fallait trouver ! Tu as trouvé en " + numberOfTries + " essais !"


                var elementMessage = document.getElementById("message");
                elementMessage.innerHTML = message
            }

            //Retourne un nombre entier compris entre 0 et 100
            function generateRandomNumber() {
                return Math.floor(Math.random() * 100)
            }

            function startNewGame() {
                randomNumberToGuess = generateRandomNumber()
                numberOfTries = 0
                var elementMessage = document.getElementById("message");
                elementMessage.innerHTML=''
            }

        </script>
    </body>

</html>